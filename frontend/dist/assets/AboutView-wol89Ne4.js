import{a as y,A as b}from"./axios_config-BzKZg2zh.js";import{d as w,b as m,f as x,c as p,j as C,a,r as c,g as A,w as n,i as u,t as d,o as _}from"./index-DkkrOWQ5.js";import"./config-DlXkem2Y.js";const B={getCurrentUser:()=>y.get("/api/user/auth/me")},V={key:1,class:"error"},D={key:2},j=w({__name:"AboutView",setup(E){const f=m(!0),s=m(null),r=m(""),v=async()=>{try{const t=await B.getCurrentUser();console.log(t),s.value=t.data}catch(t){g(t)}finally{f.value=!1}},g=t=>{var o;if(t instanceof b){const l=(o=t.response)==null?void 0:o.data;r.value=(l==null?void 0:l.detail)||`请求失败：${t.message}`}else r.value=t.message||"未知错误"};return x(()=>{v()}),(t,o)=>{const l=c("el-skeleton"),h=c("el-alert"),i=c("el-descriptions-item"),k=c("el-descriptions");return _(),p("div",null,[f.value?(_(),C(l,{key:0,rows:4,animated:""})):r.value?(_(),p("div",V,[a(h,{title:r.value,type:"error","show-icon":""},null,8,["title"])])):(_(),p("div",D,[o[0]||(o[0]=A("h2",null,"用户信息",-1)),a(k,{direction:"vertical",column:1,border:""},{default:n(()=>[a(i,{label:"ID"},{default:n(()=>{var e;return[u(d((e=s.value)==null?void 0:e.id),1)]}),_:1}),a(i,{label:"姓名"},{default:n(()=>{var e;return[u(d((e=s.value)==null?void 0:e.name),1)]}),_:1}),a(i,{label:"邮箱"},{default:n(()=>{var e;return[u(d((e=s.value)==null?void 0:e.email),1)]}),_:1}),a(i,{label:"权限"},{default:n(()=>{var e;return[u(d((e=s.value)==null?void 0:e.permissions),1)]}),_:1})]),_:1})]))])}}});export{j as default};
